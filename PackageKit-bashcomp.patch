--- PackageKit-1.2.0/contrib/meson.build.orig	2020-05-04 14:21:36.504296500 +0200
+++ PackageKit-1.2.0/contrib/meson.build	2020-05-08 18:20:26.298494310 +0200
@@ -11,10 +11,14 @@
 endif
 
 if get_option('bash_completion')
-  bash_completion_dep = dependency('bash-completion', version: '>=2.0')
+  if get_option('bash_completion_dir') != ''
+    bash_completion_dir = get_option('bash_completion_dir')
+  else
+    bash_completion_dir = dependency('bash-completion', version: '>=2.0').get_pkgconfig_variable('completionsdir', define_variable: ['prefix', get_option('prefix')])
+  endif
   install_data(
     'pkcon',
-    install_dir: bash_completion_dep.get_pkgconfig_variable('completionsdir', define_variable: ['prefix', get_option('prefix')])
+    install_dir: bash_completion_dir
   )
 endif
 
--- PackageKit-1.2.0/meson_options.txt.orig	2020-05-04 14:21:36.535296400 +0200
+++ PackageKit-1.2.0/meson_options.txt	2020-05-08 18:20:49.711700803 +0200
@@ -8,6 +8,8 @@
 option('man_pages', type : 'boolean', value : true, description : 'Generate man pages')
 option('gtk_doc', type : 'boolean', value : false, description : 'Generate API reference')
 option('bash_completion', type : 'boolean', value : true, description : 'Bash completion')
+option('bash_completion_dir', type : 'string', value : '', description : 'Bash
+completion path')
 option('bash_command_not_found', type : 'boolean', value : true, description : 'Build Bash command-not-found functionality')
 option('packagekit_user', type : 'string', value : 'root', description : 'User for running the PackageKit daemon')
 option('local_checkout', type : 'boolean', value : false, description : 'Allow running in local checkout')
